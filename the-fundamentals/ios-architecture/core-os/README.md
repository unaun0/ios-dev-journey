# Kernel & Device Drivers - Ядро и Драйверы устройств

![](https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Feynjl2v6xj7h7xb67x26.png)

__Ядро__ управляет системными ресурсами, процессами, памятью, безопасностью и взаимодействием с устройствами. Оно выступает в качестве __посредника между аппаратным и программным обеспечением__. 

## Mach

Это микроядро, которое управляет ресурсами процессора, такими как загрузка ЦП и память, выполняет планирование, обеспечивает защиту памяти и предоставляет другие услуги остальным уровням операционной системы. В архитектуре ядра Mach (микроядро) является одним из компонентов ядра.

## Darwin

Ядро вместе с другими основными компонентами операционной системы в совокупности называется Darwin. Darwin основан на BSD и включает в себя Mach и другие компоненты.

Драйверы устройств дополняют ядро, обеспечивая взаимодействие между аппаратными устройствами и операционной системой. Они обеспечивают абстракцию оборудования, обрабатывают операции ввода-вывода и т. д.

# Core OS Layes - Базовый уровень операционной системы

**Core OS** - технологии и фреймворки на уровне базовой ОС, которые предоставляют низкоуровневые сервисы, связанные с аппаратным обеспечением и сетями. Эти сервисы основаны на возможностях уровня _ядра и драйверов устройств_.

![](https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F8hjreqh82kaovsqa0yda.png)

Этот уровень абстрагирует многие сложные функции ядра, предоставляя более доступный интерфейс для программного обеспечения более высокого уровня.

![](https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/art/osx_architecture-core_os_2x.png)

## Gatekeeper

Функция безопасности, разработанная Apple, которая используется для защиты пользователей от вредоносного программного обеспечения и приложений из недостоверных источников.

В общем смысле Gatekeeper выполняет следующие задачи:

* Проверка подписи кода: убеждается, что приложение подписано цифровой подписью от доверенного разработчика.
* Проверка на наличие вредоносных программ: проверяет приложение на наличие известного вредоносного ПО.
* Управление источниками: контролирует, из каких источников приложения могут быть установлены (например, App Store или другие источники).

Gatekeeper является частью Core OS, что обеспечивает его глубокую интеграцию с операционной системой. Он работает на уровне ядра (kernel) и использует механизмы безопасности, предоставляемые Core OS, для обеспечения защиты системы.

##  App Sandbox (Песочница приложений)

Это технология безопасности, которая ограничивает доступ приложения к ресурсам операционной системы, другим приложениям и данным пользователя. Она создает "песочницу" вокруг приложения, ограничивая его возможности, чтобы предотвратить нанесение ущерба в случае заражения вредоносным ПО.

## Code Signing (Подпись кода)

Это процесс, при котором разработчик приложения подписывает его с использованием цифрового сертификата, выданного Apple.

__Code Signing подтверждает, _кто_ разработал приложение, а App Sandbox контролирует, _что_ оно может делать.__

## Основные фреймворки операционной системы (Core OS Layes)

###  Accelerate 

Позволяет совершать оптимизированные высокопроизводительные векторные вычисления (в основе лежит линейная алгебра). 

Состоит из шести библиотек:


![](https://habrastorage.org/r/w1560/getpro/habr/upload_files/88a/87f/837/88a87f83727e787186d4ccc0a16286d2.png)

### Disk Arbitration

Предоставляет механизмы для отслеживания и управления монтированием и демонтированием дисков и файловых систем. 

Позволяет приложениям:

* Получать уведомления о подключении и отключении томов (дисков, разделов, сетевых ресурсов).
*  Управлять монтированием и демонтированием томов (с разрешения пользователя).
*  Получать информацию о томах, включая их свойства и состояния.

### Open Directory (Directory Services)

Архитектура служб каталогов, которая обеспечивает централизованный способ получения информации, хранящейся в локальных или сетевых базах данных. То есть обеспечивает доступ к информации, хранящейся в каталоге - это структурированное хранилище данных о пользователях, группах, компьютерах и других ресурсах. 

Позволяет приложениям и системам:

* __Аутентифицировать пользователей__ - проверять их учетные данные.
* __Авторизовывать пользователей__ - определять их права доступа к ресурсам.
* __Запрашивать информацию о пользователях и группах__.
* __Интегрироваться с различными каталогами__: локальными (на устройстве), сетевыми или облачными.
* 
### OpenCL (Open Computing Language)

Это открытый стандарт для параллельного программирования на разнородных (гетерогенных) вычислительных платформах. Он позволяет разработчикам запускать вычисления на различных аппаратных ресурсах, таких как:

* GPU (Graphics Processing Unit) - графические процессоры.
* CPU (Central Processing Unit) - центральные процессоры.
* DSP (Digital Signal Processor) - цифровые сигнальные процессоры.
* FPGA (Field-Programmable Gate Array) - программируемые логические интегральные схемы.

### System Configuration

Определяет настройки и параметры работы операционной системы и ее компонентов (предоставляет доступ к системным настройкам и управлению ими). Это включает в себя:

* Сетевые настройки: параметры подключения к сети (Wi-Fi, Ethernet), настройки DNS, прокси-сервера и т.д.
* Настройки устройств: параметры аппаратного обеспечения, таких как дисплей, звук, клавиатура, мышь и т.д.
* Настройки служб: параметры системных служб, таких как фоновые процессы, планировщик заданий, службы геолокации и т.д.
* Конфигурации безопасности: параметры брандмауэра, VPN, шифрования и т.д.
* Язык и региональные настройки: Параметры языка, часового пояса, формата даты и времени, валюты и т.д.
